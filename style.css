/* ========================================= */
/* 4. MOBILE VIEW (MOBILE-FIRST APPROACH)    */
/* Kích hoạt mặc định - Không dùng Media Query */
/* ========================================= */

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f5f5f5; /* Màu nền mặc định (SÁNG) */
    color: #333;
}

/* 4.a. Lưới một cột với khoảng cách 10px */
.grid-container {
    display: grid;
    grid-template-columns: 1fr; /* Một cột */
    gap: 10px; /* 10px giữa hàng và cột */
    padding: 10px;
    max-width: 1200px; /* Giới hạn chiều rộng tổng thể */
    margin: 0 auto;
}

figure {
    background-color: #ffffff; /* Nền figure mặc định */
    padding: 15px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #333; /* Màu chữ mặc định */
}

figure img {
    /* 6.i. Đảm bảo không sử dụng max-width!! */
    width: 100%; /* Chiếm hết chiều rộng figure */
    height: auto;
    display: block;
}

figcaption {
    margin-top: 10px;
    font-style: italic;
    font-size: 0.9em;
}

/* ========================================= */
/* 5. TABLET VIEW (TRIGGER AT 772PX)         */
/* Không lặp lại quy tắc không cần thiết */
/* ========================================= */
@media (min-width: 772px) {
    /* 5.a. Sử dụng lưới hai cột */
    .grid-container {
        grid-template-columns: 1fr 1fr; /* Hai cột, bằng nhau */
        /* gap: 10px được kế thừa */
    }

    /* 5.b. Đặt border-radius trên các figures để tạo hình tròn */
    figure {
        border-radius: 50%;
        /* Cần đảm bảo hình ảnh bên trong không làm hỏng hình dạng */
        overflow: hidden; 
    }

    figure img {
        /* Đảm bảo hình ảnh được căn chỉnh tốt trong hình tròn */
        object-fit: cover;
    }

    /* 5.c. Thiết lập hình cuối cùng chiếm cả hai cột */
    .grid-container figure:last-child {
        grid-column: 1 / span 2; /* Bắt đầu từ cột 1, kéo dài 2 cột */
        /* Loại bỏ border-radius nếu figure cuối không phải hình vuông */
        border-radius: 10px; /* Ví dụ: chuyển sang hình chữ nhật bo góc */
        overflow: visible;
    }
}

/* ========================================= */
/* 6. LARGE SCREEN VIEW (TRIGGER AT 992PX)   */
/* ========================================= */
@media (min-width: 992px) {
    /* Chuyển sang bố cục 3 cột (tùy chọn để làm nổi bật 6.a) */
    .grid-container {
        grid-template-columns: 1fr 1fr 1fr;
    }

    /* 6.b. Loại bỏ border-radius từ tất cả các figures (ghi đè 5.b) */
    figure {
        border-radius: 0; /* Loại bỏ hình tròn */
    }

    /* 6.a. Thiết lập mỗi figure thứ ba chiếm cả hai cột */
    /* Trong bố cục 3 cột, để nó chiếm 2 cột (hoặc 3 cột nếu muốn chiếm hết hàng) */
    .grid-container figure:nth-child(3n) {
        grid-column: span 2; /* Chiếm 2 cột */
        /* Nếu muốn chiếm hết 3 cột: grid-column: 1 / span 3; */
    }

    /* Đặt lại quy tắc cho figure cuối cùng (nếu nó bị ảnh hưởng bởi 6.a) */
    .grid-container figure:last-child {
        /* Nếu figure cuối cùng không phải là figure thứ 3, 6, 9... 
           thì không cần làm gì. Nếu nó là 3n, nó sẽ chiếm 2 cột. 
           Nếu bạn muốn nó chỉ chiếm 1 cột như figure bình thường, hãy đặt lại: */
        grid-column: auto;
    }
}

/* ========================================= */
/* 7. PREFERS-REDUCED-MOTION MEDIA QUERY     */
/* ========================================= */
@media (prefers-reduced-motion: reduce) {
    /* 7.a. Loại bỏ scroll behavior (nếu bạn sử dụng cuộn mượt CSS) */
    html {
        scroll-behavior: auto;
    }

    /* Vô hiệu hóa animations và transitions (thực hành tốt) */
    * {
        animation-duration: 0.001ms !important;
        transition-duration: 0.001ms !important;
        animation-name: none !important;
        transition-property: none !important;
    }
}

/* ========================================= */
/* 8. DARK COLOR SCHEME MEDIA QUERY          */
/* Giả định mặc định là light.               */
/* ========================================= */
@media (prefers-color-scheme: dark) {
    /* Thay đổi kiểu dáng chung */
    body {
        background-color: #121212; /* Nền rất tối */
        color: #f5f5f5;
    }

    /* 8.a. Thay đổi background-color của figures thành màu tối */
    figure {
        background-color: #2c2c2c; /* Nền figure tối */
        /* 8.b. Thay đổi font color của figures thành màu nhạt (vàng nhạt) */
        color: #fffacd; /* LemonChiffon - Màu vàng nhạt */
        /* 8.c. Thay đổi border color của figures thành màu đen */
        border-color: #000000;
        /* *QUAN TRỌNG:* Kiểm tra độ tương phản màu giữa #2c2c2c và #fffacd với Wave Validator (Yêu cầu 9). */
    }

    figcaption {
        color: #ccc; /* Chú thích màu xám nhạt hơn */
    }
}
